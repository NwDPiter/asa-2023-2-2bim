{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Servi\u00e7os para o 2\u00ba bimestre DHCP DNS LDAP PROXY SMB","title":"Servi\u00e7os para o 2\u00ba bimestre"},{"location":"#servicos-para-o-2o-bimestre","text":"DHCP DNS LDAP PROXY SMB","title":"Servi\u00e7os para o 2\u00ba bimestre"},{"location":"dhcp/","text":"DHCP Instala\u00e7\u00e3o dnsmasq Configura\u00e7\u00e3o 1\u00ba - Arquivo de configura\u00e7\u00e3o do dnsmasq \u00e9: /etc/dnsmasq.conf mas, vamos criar um arquivo (exemplo.conf) no diret\u00f3rio (dnsmasq.d) /etc/dnsmasq.d/exemplo.conf todas as configura\u00e7\u00f5es no arquivo(exemplo.conf) vai migra para dnsmasq.conf. 2\u00ba - Editando o arquivo exemple.conf a configura\u00e7\u00e3o padr\u00e3o \u00e9 essa: Define a interface de rede que vai ser dhcp EX: interface= eht1 Define a faixa de ip (inicial , ip final , mascara de rede , tempo que o dispositivo fica com o ip) EX: dhcp-range= 192.168.1.10, 192.168.1.254 , 255.255.255.0 , 12h Define o gateway da rede EX: dhcp-option= 3 , 192.168.1.254 (3: Identifica o Gateway) Define outro dns ( Opicional ) EX: dhcp-option= 6 , 8.8.8.8 (6: Identifica o servidor DNS) Define um dom\u00ednio ( Opicional ) EX: dhcp-option= 15, nome-dom\u00ednio (15: Especifica um dom\u00ednio se caso voc\u00ea esteja em um) Informa onde ser\u00e1 o log do servi\u00e7o EX: log-facility= /var/log/dnsmasq.log Informa os IPs fixos EX:dhcp-host= Ip-da-m\u00e1quina, Mac-da-m\u00e1quina Arquivo de configura\u00e7\u00e3o do dnsmasq Esse ser\u00e1 o modo de configura no linux (alpine) Caminho: /etc/network/interface \u00c9 esse no windows Teste","title":"DHCP"},{"location":"dhcp/#dhcp","text":"","title":"DHCP"},{"location":"dhcp/#instalacao","text":"dnsmasq","title":"Instala\u00e7\u00e3o"},{"location":"dhcp/#configuracao","text":"1\u00ba - Arquivo de configura\u00e7\u00e3o do dnsmasq \u00e9: /etc/dnsmasq.conf mas, vamos criar um arquivo (exemplo.conf) no diret\u00f3rio (dnsmasq.d) /etc/dnsmasq.d/exemplo.conf todas as configura\u00e7\u00f5es no arquivo(exemplo.conf) vai migra para dnsmasq.conf. 2\u00ba - Editando o arquivo exemple.conf a configura\u00e7\u00e3o padr\u00e3o \u00e9 essa: Define a interface de rede que vai ser dhcp EX: interface= eht1 Define a faixa de ip (inicial , ip final , mascara de rede , tempo que o dispositivo fica com o ip) EX: dhcp-range= 192.168.1.10, 192.168.1.254 , 255.255.255.0 , 12h Define o gateway da rede EX: dhcp-option= 3 , 192.168.1.254 (3: Identifica o Gateway) Define outro dns ( Opicional ) EX: dhcp-option= 6 , 8.8.8.8 (6: Identifica o servidor DNS) Define um dom\u00ednio ( Opicional ) EX: dhcp-option= 15, nome-dom\u00ednio (15: Especifica um dom\u00ednio se caso voc\u00ea esteja em um) Informa onde ser\u00e1 o log do servi\u00e7o EX: log-facility= /var/log/dnsmasq.log Informa os IPs fixos EX:dhcp-host= Ip-da-m\u00e1quina, Mac-da-m\u00e1quina Arquivo de configura\u00e7\u00e3o do dnsmasq Esse ser\u00e1 o modo de configura no linux (alpine) Caminho: /etc/network/interface \u00c9 esse no windows","title":"Configura\u00e7\u00e3o"},{"location":"dhcp/#teste","text":"","title":"Teste"},{"location":"dns/","text":"DNS Instala\u00e7\u00e3o samba-dc krb5 smbclient Configura\u00e7\u00e3o 1\u00ba - Vamos configurar o nome de nossa m\u00e1quina com o nome de nosso dominio em: (/etc/hostname) EX: berlin.alemanha.lab 2\u00ba - Agora configura a linha do local host em: (/etc/hosts) EX: berlin.alemanha.lab 2.1\u00ba - Fa\u00e7a um backup do arquivo smb.conf que est\u00e1 em: (/etc/samba/smb.conf) 2.2\u00ba - Desative o samba antes de iniciar o passo (3) Alpine (rc-service samba stop) Baseados no debian (systemctl stop samba) 3\u00ba - Ap\u00f3s isso vamos configura nosso dom\u00ednio usando: samba-tool domain provision --use-rfc2307 --interactive 4\u00ba Essa s\u00e3o as etapas da configura\u00e7\u00e3o (O que est\u00e1 entre [ ] e o padr\u00e3o s\u00f3 da ENTER) 4.1 Despois de configura vamo ativar o samba Alpine (rc-service samba start) Baseados no debian (systemctl start samba) 5\u00ba Ap\u00f3s a configura\u00e7\u00e3o vamos para o windows (Ambas as m\u00e1quinas devem est\u00e1 na mesma rede) 5.1\u00ba Vai abrir essa tela, digite o dom\u00ednio criado 5.2\u00ba Quando entra, vai ficar assim: 6\u00ba Para criar um host A \u00e9 assim: Clique com o direito na tela -> Novo Host (A ou AAAA) 6.1\u00ba Insira um nome e o ip de redirecionamento 6.2\u00ba Criando um cname 6.3\u00ba Atribuindo um cname: Informe um nome e clique em proucurar, encontre o A criado 7\u00ba Arquivo final Teste","title":"DNS"},{"location":"dns/#dns","text":"","title":"DNS"},{"location":"dns/#instalacao","text":"samba-dc krb5 smbclient","title":"Instala\u00e7\u00e3o"},{"location":"dns/#configuracao","text":"1\u00ba - Vamos configurar o nome de nossa m\u00e1quina com o nome de nosso dominio em: (/etc/hostname) EX: berlin.alemanha.lab 2\u00ba - Agora configura a linha do local host em: (/etc/hosts) EX: berlin.alemanha.lab 2.1\u00ba - Fa\u00e7a um backup do arquivo smb.conf que est\u00e1 em: (/etc/samba/smb.conf) 2.2\u00ba - Desative o samba antes de iniciar o passo (3) Alpine (rc-service samba stop) Baseados no debian (systemctl stop samba) 3\u00ba - Ap\u00f3s isso vamos configura nosso dom\u00ednio usando: samba-tool domain provision --use-rfc2307 --interactive 4\u00ba Essa s\u00e3o as etapas da configura\u00e7\u00e3o (O que est\u00e1 entre [ ] e o padr\u00e3o s\u00f3 da ENTER) 4.1 Despois de configura vamo ativar o samba Alpine (rc-service samba start) Baseados no debian (systemctl start samba) 5\u00ba Ap\u00f3s a configura\u00e7\u00e3o vamos para o windows (Ambas as m\u00e1quinas devem est\u00e1 na mesma rede) 5.1\u00ba Vai abrir essa tela, digite o dom\u00ednio criado 5.2\u00ba Quando entra, vai ficar assim: 6\u00ba Para criar um host A \u00e9 assim: Clique com o direito na tela -> Novo Host (A ou AAAA) 6.1\u00ba Insira um nome e o ip de redirecionamento 6.2\u00ba Criando um cname 6.3\u00ba Atribuindo um cname: Informe um nome e clique em proucurar, encontre o A criado 7\u00ba Arquivo final","title":"Configura\u00e7\u00e3o"},{"location":"dns/#teste","text":"","title":"Teste"},{"location":"ldap/","text":"LDAP Instala\u00e7\u00e3o Samba-ad Krb5 Configura\u00e7\u00e3o 1\u00ba - Vamos configurar o nome de nossa m\u00e1quina com o nome de nosso dominio em: (/etc/hostname) EX: berlin.alemanha.lab 2\u00ba - Agora configura a linha do local host em: (/etc/hosts) EX: berlin.alemanha.lab 2.1 - Fa\u00e7a um backup do arquivo smb.conf que est\u00e1 em: (/etc/samba/smb.conf) 3\u00ba - Ap\u00f3s isso vamos configura nosso dom\u00ednio usando: samba-tool domain provision --use-rfc2307 --interactive 4\u00ba - Despois de criar seu dominio vamos configurar o aquivo smb.conf que est\u00e1 em: (/etc/samba) 5\u00ba - Agora vamos nos conctar ao dom\u00ednio que criamos pelo windows v\u00e1 em: Clique em Alterar configura\u00e7\u00f5es Depois em alterar, aparecer\u00e1 uma tela menor, nela coloque o nome do computador e o dom\u00edno como est\u00e1 na imagem 6\u00ba - Para criar os usu\u00e1rios e grupos, estando na maquina windows pesquise sobre active directory e abra 6.1\u00ba - A cria\u00e7\u00e3o e assim: Novo -> Usu\u00e1rio Insira as credenciais dele. senha.. 7\u00ba - Ap\u00f3s criar usu\u00e1rio, vamo criar as OU 8\u00ba Como podemos ver que foi criados duas OUS (vendedores e rh) 8.1 Essa imagens mostram cada grupo e usu\u00e1rio em suas OUS Incluir o(s) nome(s) e o conte\u00fado do(s) arquivo(s) de configura\u00e7\u00e3o. Criar duas OU: vendedores e rh ; Mover o grupo sobrenome1 e seus membros para a OU vendedores ; Mover os grupo sobrenome2 e seus membros para a OU rh . Teste","title":"LDAP"},{"location":"ldap/#ldap","text":"","title":"LDAP"},{"location":"ldap/#instalacao","text":"Samba-ad Krb5","title":"Instala\u00e7\u00e3o"},{"location":"ldap/#configuracao","text":"1\u00ba - Vamos configurar o nome de nossa m\u00e1quina com o nome de nosso dominio em: (/etc/hostname) EX: berlin.alemanha.lab 2\u00ba - Agora configura a linha do local host em: (/etc/hosts) EX: berlin.alemanha.lab 2.1 - Fa\u00e7a um backup do arquivo smb.conf que est\u00e1 em: (/etc/samba/smb.conf) 3\u00ba - Ap\u00f3s isso vamos configura nosso dom\u00ednio usando: samba-tool domain provision --use-rfc2307 --interactive 4\u00ba - Despois de criar seu dominio vamos configurar o aquivo smb.conf que est\u00e1 em: (/etc/samba) 5\u00ba - Agora vamos nos conctar ao dom\u00ednio que criamos pelo windows v\u00e1 em: Clique em Alterar configura\u00e7\u00f5es Depois em alterar, aparecer\u00e1 uma tela menor, nela coloque o nome do computador e o dom\u00edno como est\u00e1 na imagem 6\u00ba - Para criar os usu\u00e1rios e grupos, estando na maquina windows pesquise sobre active directory e abra 6.1\u00ba - A cria\u00e7\u00e3o e assim: Novo -> Usu\u00e1rio Insira as credenciais dele. senha.. 7\u00ba - Ap\u00f3s criar usu\u00e1rio, vamo criar as OU 8\u00ba Como podemos ver que foi criados duas OUS (vendedores e rh) 8.1 Essa imagens mostram cada grupo e usu\u00e1rio em suas OUS Incluir o(s) nome(s) e o conte\u00fado do(s) arquivo(s) de configura\u00e7\u00e3o. Criar duas OU: vendedores e rh ; Mover o grupo sobrenome1 e seus membros para a OU vendedores ; Mover os grupo sobrenome2 e seus membros para a OU rh .","title":"Configura\u00e7\u00e3o"},{"location":"ldap/#teste","text":"","title":"Teste"},{"location":"proxy/","text":"PROXY Instala\u00e7\u00e3o Para instalar o squid no linux utilizamos o comando padr\u00e3o (Baseados no Debian) apt install squid Durante a instala\u00e7\u00e3o ser\u00e1 criado v\u00e1rias arquivos e diret\u00f3rios, entre eles: debian.conf (O nome varia dependendo da distro) access.log Configura\u00e7\u00e3o OBS: Por padr\u00e3o o squid nega todo o acesso quando \u00e9 instalado, para desabilitar v\u00e1 em: /etc/squid/squid.conf Proucure a linha que tem http_access deny all e troque para allow isso vai permitir o acesso para todos os site, desse jeito: Ou deixar como est\u00e1 e permita apenas os sites espec\u00edficos no processo de configura\u00e7\u00e3o. No 'debian.conf' ser\u00e1 adicionado nossa acl (Access Control List) o padr\u00e3o de constru\u00e7\u00e3o \u00e9: acl NOME_DA_ACL TIPO_DA_ACL par\u00e2metro EX: acl exemplo dst www.facebook.com Existe v\u00e1rios (TIPO_DA_ACL) dst = O par\u00e2metro sera um host,rede ou dom\u00ednio ex: www.youtube.com url_regex = O par\u00e2metro sera um nome ou palavras port = O par\u00e2metro sera uma porta ex: 80 Para ver mais entre em (ACLS Squid) O arquivo por padr\u00e3o vem assim: Aqui alguns exemplos de acls criadas: Neste exemplo uma das acls \u00e9 'sites_block' . \u00c9 para bloquear ou permitir o site o padr\u00e3o de constru\u00e7\u00e3o \u00e9: - http_access permiss\u00e3o NOME_DA_ACL Tipos de permiss\u00e3o deny: Nega o acesso allow: Permiti o acesso NOME_DA_ACL: Nesse caso foi usado sites_block O exemplo ficar\u00e1 assim: Agora e s\u00f3 ir no navegador e configura o proxy, por padr\u00e3o: 1.Abra o navegador. 2.No menu, selecione Configura\u00e7\u00f5es ou Op\u00e7\u00f5es. 3.Na se\u00e7\u00e3o Rede, selecione Configura\u00e7\u00f5es de proxy. 4.Marque a caixa Usar um servidor proxy. 5.Insira o endere\u00e7o IP do servidor proxy e a porta. (Pode variar entres os navegadores) Incluir o(s) nome(s) e o conte\u00fado do(s) arquivo(s) de configura\u00e7\u00e3o. Fazer a configura\u00e7\u00e3o de 4 ACLs distintas, conforme a atividade passada em sala de aula. Teste","title":"PROXY"},{"location":"proxy/#proxy","text":"","title":"PROXY"},{"location":"proxy/#instalacao","text":"Para instalar o squid no linux utilizamos o comando padr\u00e3o (Baseados no Debian) apt install squid Durante a instala\u00e7\u00e3o ser\u00e1 criado v\u00e1rias arquivos e diret\u00f3rios, entre eles: debian.conf (O nome varia dependendo da distro) access.log","title":"Instala\u00e7\u00e3o"},{"location":"proxy/#configuracao","text":"OBS: Por padr\u00e3o o squid nega todo o acesso quando \u00e9 instalado, para desabilitar v\u00e1 em: /etc/squid/squid.conf Proucure a linha que tem http_access deny all e troque para allow isso vai permitir o acesso para todos os site, desse jeito: Ou deixar como est\u00e1 e permita apenas os sites espec\u00edficos no processo de configura\u00e7\u00e3o. No 'debian.conf' ser\u00e1 adicionado nossa acl (Access Control List) o padr\u00e3o de constru\u00e7\u00e3o \u00e9: acl NOME_DA_ACL TIPO_DA_ACL par\u00e2metro EX: acl exemplo dst www.facebook.com Existe v\u00e1rios (TIPO_DA_ACL) dst = O par\u00e2metro sera um host,rede ou dom\u00ednio ex: www.youtube.com url_regex = O par\u00e2metro sera um nome ou palavras port = O par\u00e2metro sera uma porta ex: 80 Para ver mais entre em (ACLS Squid) O arquivo por padr\u00e3o vem assim: Aqui alguns exemplos de acls criadas: Neste exemplo uma das acls \u00e9 'sites_block' . \u00c9 para bloquear ou permitir o site o padr\u00e3o de constru\u00e7\u00e3o \u00e9: - http_access permiss\u00e3o NOME_DA_ACL Tipos de permiss\u00e3o deny: Nega o acesso allow: Permiti o acesso NOME_DA_ACL: Nesse caso foi usado sites_block O exemplo ficar\u00e1 assim: Agora e s\u00f3 ir no navegador e configura o proxy, por padr\u00e3o: 1.Abra o navegador. 2.No menu, selecione Configura\u00e7\u00f5es ou Op\u00e7\u00f5es. 3.Na se\u00e7\u00e3o Rede, selecione Configura\u00e7\u00f5es de proxy. 4.Marque a caixa Usar um servidor proxy. 5.Insira o endere\u00e7o IP do servidor proxy e a porta. (Pode variar entres os navegadores) Incluir o(s) nome(s) e o conte\u00fado do(s) arquivo(s) de configura\u00e7\u00e3o. Fazer a configura\u00e7\u00e3o de 4 ACLs distintas, conforme a atividade passada em sala de aula.","title":"Configura\u00e7\u00e3o"},{"location":"proxy/#teste","text":"","title":"Teste"},{"location":"proxy/tipos_de_acl/","text":"ACLS squid Aqui est\u00e3o todos os tipos de ACLs suportados pelo Squid: all: Este ACL permite o acesso a todos os recursos. none: Este ACL nega o acesso a todos os recursos. src: Este ACL especifica um host ou rede de origem. dst: Este ACL especifica um host ou rede de destino. srcdomain: Este ACL especifica um dom\u00ednio de origem. dstdomain: Este ACL especifica um dom\u00ednio de destino. url: Este ACL especifica um URL ou intervalo de URLs. url_regex: Este ACL especifica letras ou palavras port: Este ACL especifica uma porta ou intervalo de portas. time: Este ACL especifica um intervalo de tempo. user: Este ACL especifica um usu\u00e1rio ou grupo de usu\u00e1rios. group: Este ACL especifica um grupo de usu\u00e1rios. cookie: Este ACL especifica um cookie ou intervalo de cookies. digest: Este ACL especifica um digest ou intervalo de digests. header: Este ACL especifica um cabe\u00e7alho HTTP ou intervalo de cabe\u00e7alhos HTTP. mime_type: Este ACL especifica um tipo MIME ou intervalo de tipos MIME. domain: Este ACL especifica um dom\u00ednio ou intervalo de dom\u00ednios. ipset: Este ACL especifica um conjunto de IPs. external: Este ACL especifica uma fonte externa, como um banco de dados ou API","title":"Tipos de acl"},{"location":"proxy/tipos_de_acl/#acls-squid","text":"Aqui est\u00e3o todos os tipos de ACLs suportados pelo Squid: all: Este ACL permite o acesso a todos os recursos. none: Este ACL nega o acesso a todos os recursos. src: Este ACL especifica um host ou rede de origem. dst: Este ACL especifica um host ou rede de destino. srcdomain: Este ACL especifica um dom\u00ednio de origem. dstdomain: Este ACL especifica um dom\u00ednio de destino. url: Este ACL especifica um URL ou intervalo de URLs. url_regex: Este ACL especifica letras ou palavras port: Este ACL especifica uma porta ou intervalo de portas. time: Este ACL especifica um intervalo de tempo. user: Este ACL especifica um usu\u00e1rio ou grupo de usu\u00e1rios. group: Este ACL especifica um grupo de usu\u00e1rios. cookie: Este ACL especifica um cookie ou intervalo de cookies. digest: Este ACL especifica um digest ou intervalo de digests. header: Este ACL especifica um cabe\u00e7alho HTTP ou intervalo de cabe\u00e7alhos HTTP. mime_type: Este ACL especifica um tipo MIME ou intervalo de tipos MIME. domain: Este ACL especifica um dom\u00ednio ou intervalo de dom\u00ednios. ipset: Este ACL especifica um conjunto de IPs. external: Este ACL especifica uma fonte externa, como um banco de dados ou API","title":"ACLS squid"},{"location":"smb/","text":"SMB Instala\u00e7\u00e3o samba-ad krb5-config Configura\u00e7\u00e3o 1\u00ba - Vamos configurar o nome de nossa m\u00e1quina com o nome de nosso dominio em: (/etc/hostname) berlin.alemanha.lab 2\u00ba - Agora configura a linha do local host em: (/etc/hosts) berlin.alemanha.lab 2.1 - Fa\u00e7a um backup do arquivo smb.conf que est\u00e1 em: (/etc/samba/smb.conf) 3\u00ba - Ap\u00f3s isso vamos configura nosso dom\u00ednio usando: samba-tool domain provision --use-rfc2307 --interactive 4\u00ba - Despois de criar seu dominio vamos configurar o aquivo smb.conf que est\u00e1 em: (/etc/samba) Nesse imagem mostra a configura\u00e7\u00e3o do compartilhamento de pasta com o windows, foram criadas duas pastas [Carvalho] e [sales] 5\u00ba - Agora vamos nos conctar ao dom\u00ednio que criamos pelo windows v\u00e1 em: Clique em Alterar configura\u00e7\u00f5es Depois em alterar, aparecer\u00e1 uma tela menor, nela coloque o nome do computador e o dom\u00edno como est\u00e1 na imagem 6\u00ba - Para criar os usu\u00e1rios e grupos, estando na maquina windows pesquise sobre active directory e abra 6.1\u00ba - A cria\u00e7\u00e3o e assim: Novo -> Usu\u00e1rio Insira as credenciais dele. senha.. 6.2 - Cria\u00e7\u00e3o de grupos: Novo -> Grupos Insira o nome do grupo -> ok 8\u00ba - Nessa imagem e poss\u00edvei ver os grupos criados e seu usu\u00e1rios 8.1 - Para adicionar usu\u00e1rio no grupo \u00e9 assim: Seleciona o grupo -> vai na aba de mebros -> adicionar 9\u00ba - Nessa etapa vemos que cada pessoa est\u00e1 em seu respectivo grupo Alt text Teste","title":"SMB"},{"location":"smb/#smb","text":"","title":"SMB"},{"location":"smb/#instalacao","text":"samba-ad krb5-config","title":"Instala\u00e7\u00e3o"},{"location":"smb/#configuracao","text":"1\u00ba - Vamos configurar o nome de nossa m\u00e1quina com o nome de nosso dominio em: (/etc/hostname) berlin.alemanha.lab 2\u00ba - Agora configura a linha do local host em: (/etc/hosts) berlin.alemanha.lab 2.1 - Fa\u00e7a um backup do arquivo smb.conf que est\u00e1 em: (/etc/samba/smb.conf) 3\u00ba - Ap\u00f3s isso vamos configura nosso dom\u00ednio usando: samba-tool domain provision --use-rfc2307 --interactive 4\u00ba - Despois de criar seu dominio vamos configurar o aquivo smb.conf que est\u00e1 em: (/etc/samba) Nesse imagem mostra a configura\u00e7\u00e3o do compartilhamento de pasta com o windows, foram criadas duas pastas [Carvalho] e [sales] 5\u00ba - Agora vamos nos conctar ao dom\u00ednio que criamos pelo windows v\u00e1 em: Clique em Alterar configura\u00e7\u00f5es Depois em alterar, aparecer\u00e1 uma tela menor, nela coloque o nome do computador e o dom\u00edno como est\u00e1 na imagem 6\u00ba - Para criar os usu\u00e1rios e grupos, estando na maquina windows pesquise sobre active directory e abra 6.1\u00ba - A cria\u00e7\u00e3o e assim: Novo -> Usu\u00e1rio Insira as credenciais dele. senha.. 6.2 - Cria\u00e7\u00e3o de grupos: Novo -> Grupos Insira o nome do grupo -> ok 8\u00ba - Nessa imagem e poss\u00edvei ver os grupos criados e seu usu\u00e1rios 8.1 - Para adicionar usu\u00e1rio no grupo \u00e9 assim: Seleciona o grupo -> vai na aba de mebros -> adicionar 9\u00ba - Nessa etapa vemos que cada pessoa est\u00e1 em seu respectivo grupo Alt text","title":"Configura\u00e7\u00e3o"},{"location":"smb/#teste","text":"","title":"Teste"}]}